---
title: Running with Systemd
description: Run a Tangle full node using systemd.
---

# Running with Systemd

You can run your full node as a systemd process so that it will automatically restart on server reboots
or crashes (and helps to avoid getting slashed!).

Before following this guide you should have already set up your machines environment, installed the dependencies, and
compiled the Tangle binary. If you have not done so, please refer to the [Requirements](https://docs.webb.tools/docs/ecosystem-roles/validator/requirements/) page.

## Setup

### Dependencies Installation
Ensure all necessary dependencies are installed:
```sh
sudo apt update && sudo apt upgrade -y
sudo apt install curl iptables build-essential git wget jq make gcc nano tmux htop nvme-cli pkg-config libssl-dev libleveldb-dev libgmp3-dev tar clang bsdmainutils ncdu unzip llvm libudev-dev make protobuf-compiler -y
```

### Install and Configure Rust
```sh
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
# choose option 1
source $HOME/.cargo/env
rustup default nightly
rustup update
rustup update nightly
rustup target add wasm32-unknown-unknown --toolchain nightly
```

### Create the Service Configuration File
Run the following commands to create the service configuration file:

```sh filename="mv" copy
# Move the tangle-standalone binary to the bin directory (assumes you are in repo root directory)
sudo mv ./target/release/tangle-standalone /usr/bin/
```

Add the following contents to the service configuration file. Make sure to replace the **USERNAME** with the username you created in the previous step, add your own node name, and update
any paths or ports to your own preference.

**Note:** The below configuration assumes you are targeting the Tangle Network chainspec.

**Full Node Service Configuration File**

```sh filename="full.service" copy
sudo tee /etc/systemd/system/full.service > /dev/null << EOF
[Unit]
Description=Tangle Full Node
After=network-online.target
StartLimitIntervalSec=0

[Service]
User=<USERNAME>
Restart=always
RestartSec=3
ExecStart=/usr/bin/tangle-standalone \
  --base-path /data/full-node \
  --name <NODE-NAME> \
  --chain tangle-testnet \
  --node-key-file "/home/<USERNAME>/node-key" \
  --rpc-cors all \
  --port 9946 \
  --no-mdns \
  --telemetry-url "wss://telemetry.polkadot.io/submit/ 0" --name <NODE_NAME>

[Install]
WantedBy=multi-user.target
EOF
```


### Enable the services

After ensuring the config is correctly written to /etc/systemd/system/full.service, enable and start the service:

```sh filename="enable service" copy
sudo systemctl daemon-reload
sudo systemctl enable full
sudo systemctl start full
```

Check the status of the service and view logs:

```sh filename="status" copy
sudo systemctl status full
```
```sh filename="logs" copy
sudo journalctl -u full.service -f
```

You should see the node connecting to the network and syncing the latest blocks.

Congratulations! You have officially setup a Tangle Network node using Systemd. If you are interested
in learning how to setup monitoring for your node, please refer to the [monitoring](../monitoring/quickstart.mdx) page.


---


### Optional: Full Node (with EVM Trace) Service Configuration

**Note:** To run with evm trace, you should use a binary built with `txpool` flag, refer [requirements](../requirements.mdx) page for more details.

```sh filename="full.service" copy
sudo tee /etc/systemd/system/full.service > /dev/null << EOF
[Unit]
Description=Tangle Full Node
After=network-online.target
StartLimitIntervalSec=0

[Service]
User=<USERNAME>
Restart=always
RestartSec=3
ExecStart=/usr/bin/tangle-standalone \
  --base-path /data/full-node \
  --name <NODE-NAME> \
  --chain tangle-testnet \
  --node-key-file "/home/<USERNAME>/node-key" \
  --rpc-cors all \
  --port 9946 \
  --no-mdns --ethapi trace,debug,txpool

[Install]
WantedBy=multi-user.target
EOF
```
