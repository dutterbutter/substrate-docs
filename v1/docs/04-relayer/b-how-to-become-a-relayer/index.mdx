---
title: How to become a relayer
slug: /v1/relayer/how-to-become-a-relayer
version: '1.0'
section: docs
category: relayer
keywords: []
---
 
The relayer system is composed of three main components. Each of these components should be thought 
of as entirely separate because they could be handled by different entities entirely.
 
1. Private transaction relaying (for bridged transactions)
2. Data querying (for zero-knowledge proof generation)
3. Data proposing and signature relaying (of DKG proposals)
 
This document serves as a guide for setting up the relayer for all three components collectively or exclusively. 
Below you will find everything you need to join the Webb Relayer Network.
 
The easiest way to setup a relayer is to make use of the docker-compose file that is included in the 
[relayer repository](https://github.com/webb-tools/relayer/blob/main/docker/docker-compose.yml) but before 
we download and run Docker we need to configure our relayer. The first step is to create an `.env` file 
in the root directory which lists the networks you wish to support along with the following fields:

```
# enables the network 
WEBB_EVM_<network>_ENABLED=true

# private key with funds on the network to cover gas costs
WEBB_EVM_<network>_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>

# an optional beneficiary to receive rewards for relaying
WEBB_EVM_<network>_BENEFICIARY=<0X_PREFIXED_ADDRESS>
```

The current relayer network supports the following chains:
- Harmony
- Rinkeby
- Polygon Testnet
- Goerli
- Kovan
- Optimism 
- Arbitrum 

An example `.env` file that supports all the networks mentioned above:

```
WEBB_EVM_HARMONYMAINNET0_ENABLED=true
WEBB_EVM_RINKEBY_ENABLED=true
WEBB_EVM_POLYGON_TESTNET_ENABLED=true
WEBB_EVM_GOERLI_ENABLED=true
WEBB_EVM_KOVAN_ENABLED=true
WEBB_EVM_OPTIMISM_ENABLED=true
WEBB_EVM_ARBITRUM_ENABLED=true

RINKEBY_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
HARMONYMAINNET0_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
POLYGON_TESTNET_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
GOERLI_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
KOVAN_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
OPTIMISM_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>
ARBITRUM_PRIVATE_KEY=<0X_PREFIXED_PRIVATE_KEY>

WEBB_EVM_RINKEBY_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_HARMONYMAINNET0_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_POLYGON_TESTNET_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_GOERLI_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_KOVAN_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_OPTIMISM_BENEFICIARY=<0X_PREFIXED_ADDRESS>
WEBB_EVM_ARBITRUM_BENEFICIARY=<0X_PREFIXED_ADDRESS>
```

### Quickstart 

Now that you have an `.env` file configured, you can download the relayer docker image, run it, and begin supporting 
the Webb Relayer Network. The docker image makes use of the preset configurations in `/config` and 
by default supports all networks, and system components (e.g. private tx relaying, governance relaying, and data querying).

Follow these instructions to get started:

1. Configure `.env` file in your root directory 
2. Run `docker-compose up` in the `/docker` directory
3. Navigate into docker container to view relayer logs 

## Network and Contract Configuration 
 
The relayer's configuration is comprised of two parts:

1. Network configuration
2. Contract configuration 

The network contract configuration is dependent on the network support configuration. That is, you cannot configure
a specific networks contracts without first configuring the network support configuration. 

To configure the relayer we suggest making use of the preset configurations in the `/config` directory. There you will 
see `.toml` files for all the supported networks and contracts. However, if you wish to custom configure 
your relayer you may do so. See below for more details.

### Network configuration

The relayer must be configured with the network support configuration. User's may choose which networks they wish to support 
but must specify these networks in a `.toml` file under the `/config` directory. The current relayer network supports both 
EVM and Substrate based chains but differ slightly in their configuration. 

#### EVM based networks configuration 

The naming convention for the EVM based networks is `[evm.<network>]`. For example, to specify configuration for 
the goerli network you need to add `[evm.goerli]` at the beginning of the network configuration within the `.toml` file.
An example of the `.toml` file for the goerli network:

```
[evm.goerli]
http-endpoint = "https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"
ws-endpoint = "wss://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"
chain-id = 5
private-key = "$GOERLI_PRIVATE_KEY"
```

#### Required Fields

These are the required fields that must be specified in order to support a network.

- Set `http-endpoint` rpc url for a specific node
- Set `ws-endpoint` websocket endpoint for long living connections
- Set `chain-id` (1 for ETH mainnet, 5 for Goerli)
- Set `private-key` of this account on this network (e.g.  "$GOERLI_PRIVATE_KEY")

#### Substrate based networks configuration 

The naming convention for the Substrate based networks is `[substrate.<network>]`. For example, to specify configuration for 
the Egg network you need to add `[substrate.eggnet]` at the beginning of the network configuration within the `.toml` file.
An example of the `.toml` file for the Egg network:

```
[substrate.eggnet]
enabled=true
http-endpoint = "http://standalone.webb.tools:9933/"
ws-endpoint = "ws://standalone.webb.tools:9944/"
runtime = "WebbProtocol"
suri = "//Alice//stash"
pallets = []
```

#### Required Fields

These are the required fields that must be specified in order to support a network.

- Set `http-endpoint` rpc url for a specific node
- Set `ws-endpoint` websocket endpoint for long living connections
- Set `runtime` to indicate what runtime to use
- Set `suri` to generate a key-pair
- Set `pallets` to indicate which pallets to use

### Network contract configuration

The naming convention for the EVM based network contracts is `[evm.<network>.contracts]` and for Substrate consists of `[substrate.<network>.contracts]`. For example, to specify configuration for 
the goerli network you need to add `[evm.goerli.contracts]` at the beginning of the network configuration within the `.toml` file.
An example of the `.toml` file for the contracts on the goerli network:

```
[[evm.goerli.contracts]]
contract = "SignatureBridge"
address = "0xc11a9f2f42cedf687ec292231698a91dd6928d9a"
deployed-at = 6896976
events-watcher = { enabled = true, polling-interval = 10000, print-progress-interval = 0 }
```

The relayer network is used to support the following contracts:
- Anchor contract
- VAnchor contract
- SignatureBridge contract

To support each contract you are required to specify each contract with the required fields. The required fields are 
dependent on what actions you wish your relayer to perform (e.g. private tx relaying, governance relaying, and data querying). 

## Exclusive system configuration 



### Private Transaction Relaying
- TODO:
  - must provide clarity for linked-anchors field 
  - Must provide clarity on private fields
 
To set up the relayer exclusively for relaying private transactions we need to create a configuration file that outlines
the supported networks. The required fields for relaying private transactions include:

#### Required Fields

- Set `contract` rpc url for specific node
- Set `address` websocket endpoint for long living connections
- Set `events-watcher` to `false`
- Set `withdraw-fee-percentage`
- Set `withdraw-gaslimit`
- Set `data-query` to `false`
- Set `governance-relay` to `false`


An example configuration file at this point should look similar to this:
```
[[evm.goerli.contracts]]
contract = "Anchor"
address = "0x03b88eD9Ff9bE84e4baD3F55D67AE5ABA610523C"
deployed-at = 6896976
size = 0.01
events-watcher = { enabled = true, polling-interval = 15000 }
withdraw-fee-percentage = 0
withdraw-gaslimit = "0x350000"
// Potential: remove to just watch leaf exclusivity 
linked-anchors = [
  { chain = "ropsten", address = "0x228aC202fB6Ad3D3A39f59E4A578a0EAFD3286CD" },
  { chain = "rinkeby", address = "0xa238c5987142AF720B9232d9d72A12A3868396e0" },
  { chain = "polygontestnet", address = "0xA8665042EA4767FA09143bd790059cE53Bdf2a8F" },
  { chain = "optimismtestnet", address = "0x09d2D6520BE3922549c81885477258F41c96c43f" },
  { chain = "arbitrumtestnet", address = "0x2D21BC3f8cb399d3b7091309AFe1986cdB9F2e39" },
]
proposal-signing-backend = { type = "Mocked", private-key = "$GOVERNOR_PRIVATE_KEY" }

[[evm.goerli.contracts]]
contract = "SignatureBridge"
address = "0xc11a9f2f42cedf687ec292231698a91dd6928d9a"
deployed-at = 6896976
events-watcher = { enabled = true, polling-interval = 10000, print-progress-interval = 0 }
```
 
### Data Querying
 
To set up the relayer exclusively for relaying private transactions we need to provide the following fields in a configuration file for each network to be supported. 

#### Required Fields
- TODO


### Data Proposing and Signature Relaying
 
To set up the relayer exclusively for relaying private transactions we need to provide the following fields in a configuration file for each network to be supported. 

#### Required Fields
- TODO



